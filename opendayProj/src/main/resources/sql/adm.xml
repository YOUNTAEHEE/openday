<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
						"http://mybatis.org/dtd/mybatis-3-mapper.dtd">
						
<mapper namespace="mapper.adm">

	<!-- 카테고리 list 받아오기  -->
	<select id="selectCategoryList" resultType="com.kosta.openday.adm.dto.CodeDTO">
		select * from code where codClassfication='카테고리'
	</select>
	
	<!-- 파일삽입 -->
	<insert id="insertFile" parameterType="com.kosta.openday.adm.dto.FileDTO">
		<![CDATA[
		insert into file values(#{filNum},#{filClassification},#{filOrgName},#{filSaveName},#{filSize},CURDATE())
		]]>
	</insert>
	
	<select id="selectFile" parameterType="Integer" resultType="com.kosta.openday.adm.dto.FileDTO">
			<![CDATA[
				select * from file where FilNum=#{fileId} 
			]]>				
		</select>
	
	<select id="newFileId" resultType="Integer">
		<![CDATA[
			select nextval(file_seq)
		]]>				
	</select>
	
	<!-- 클래스 신청 목록  -->
	<select id="selectOClassByStatus" parameterType="String" resultType="com.kosta.openday.user.dto.OClassDTO">
		<![CDATA[
			select *
			from oclass
			where clsStatus = #{status}
		]]>
	</select>
	
	<update id="updateOClassStatus" parameterType="java.util.Map">
		<![CDATA[
			update oclass
			set clsStatus = #{status}
			where clsId = #{clsId}
		]]>
	</update>
	
</mapper>